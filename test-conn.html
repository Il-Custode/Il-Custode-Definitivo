<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Test Connessione Supabase</title>
</head>
<body>
  <h1>Test connessione a Supabase</h1>
  <p>Apri la console del browser (F12 → Console) per vedere il risultato.</p>

  <!-- Importiamo i file di configurazione e singleton -->
  <script src="assets/js/env.supabase.js"></script>
  <script src="assets/js/supabase-singleton.js"></script>

  <script>
    (async () => {
      try {
        const supabase = await getSupabase();
        console.log("✅ Supabase OK:", !!supabase);

        // Prova semplice: recuperiamo la sessione
        const { data, error } = await supabase.auth.getSession();
        console.log("📦 Session data:", data);
        console.log("⚠️ Error:", error || "nessun errore");
      } catch (err) {
        console.error("❌ Connessione fallita:", err);
      }
    })();
  </script>
</body>
</html>
